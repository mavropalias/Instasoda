// =========================================================================
// SettingsUsernameView
// =========================================================================
var SettingsUsernameView=Backbone.View.extend({className:"settings",tagName:"section",events:{"click #saveUsername":"save"},initialize:function(){console.log("  ~ initializing SettingsUsernameView");_.bindAll(this);this.render()},render:function(){console.log("  ~ rendering SettingsUsernameView");this.$el.html($("#tplSettingsUsername").html())},save:function(){console.log("  ~ saving SettingsView");var e=this.$(".settingUsernameInput").val();if(!IS.nullOrEmpty(e)){this.model.set("u",e);IS.saveUser();IS.setupUser(this)}}}),SettingsLocationView=Backbone.View.extend({className:"settings",tagName:"section",events:{},initialize:function(){console.log("  ~ initializing SettingsLocationView");_.bindAll(this);this.render()},render:function(){console.log("  ~ rendering SettingsLocationView");var e=$("#tplMapWidget").html(),t={h1:"Welcome "+this.model.get("u")+"! What is your location?",h2:"Instasoda members will see your location. In order to protect your privacy, we recommend only zooming-in up to your general area in your city/town.",target:"drag the map to center at your approximate location!",buttonTxt:'Ok, my location is <span id="targetAdress"> ...drag the map!</span>'};this.$el.html(Mustache.to_html(e,t))},show:function(){var e=this;showMapAndGetLocation("#mapContainer",!0,function(t,n,r){e.model.set("loc",[n,t]);e.model.set("locN",r);IS.saveUser();IS.setupUser(e)})}}),SettingsFindTypeView=Backbone.View.extend({className:"settings",tagName:"section",events:{"click #saveFindType":"save"},initialize:function(){console.log("  ~ initializing SettingsFindTypeView");_.bindAll(this);this.render()},render:function(){console.log("  ~ rendering SettingsFindTypeView");var e=$("#tplSettingsFindType").html();this.$el.html(Mustache.to_html(e,this.model.toJSON()))},save:function(){console.log("  ~ saving SettingsFindTypeView");var e=this.$('input[name="findFriends"]:checked').length,t=this.$('input[name="findDates"]:checked').length;if(!IS.nullOrEmpty(e)||!IS.nullOrEmpty(t)){this.model.set("ff",e);this.model.set("fd",t);IS.saveUser();IS.setupUser(this)}}}),SettingsGenderPrefsView=Backbone.View.extend({className:"settings",tagName:"section",events:{"click #saveGenderPrefs":"save"},initialize:function(){console.log("  ~ initializing SettingsGenderPrefsView");_.bindAll(this);this.render()},render:function(){console.log("  ~ rendering SettingsGenderPrefsView");var e=$("#tplSettingsGenderPrefs").html();this.$el.html(Mustache.to_html(e,this.model.toJSON()))},save:function(){console.log("  ~ saving SettingsGenderPrefsView");var e=this.$('input[name="men"]:checked').length,t=this.$('input[name="women"]:checked').length;if(!IS.nullOrEmpty(e)||!IS.nullOrEmpty(t)){this.model.set("m",e);this.model.set("w",t);var n=this.model.get("so")?this.model.get("so"):{};n.m=e>0?"male":0;n.w=t>0?"female":0;this.model.set("so",n);IS.saveUser();IS.setupUser(this)}}});